---
type: always
description: DataGolf API contract usage rules
---

# DataGolf contract rules

- Treat DataGolf responses as untrusted until validated.
- Every DataGolf query must:

  1. validate response with a Zod schema (or equivalent) at runtime,
  2. map to internal domain types (DTO -> domain),
  3. include consistent error handling (timeout, retries, rate-limit, network).

- Do not call DataGolf directly from React components.
- If you add a new endpoint:

  - add raw types in `src/lib/api/datagolf/types/`
  - add schema in `src/lib/api/datagolf/schemas/` (create if missing)
  - add query function in `src/lib/api/datagolf/queries/`
  - add mapper in `src/lib/api/datagolf/mappers/`

- Always update `docs/CONTEXT.md` if you introduce new betting/golf concepts
  (e.g., implied odds display, matchup markets, OAD rules, etc.).
